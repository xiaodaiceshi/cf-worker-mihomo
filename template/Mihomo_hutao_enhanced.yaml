# ==========================================
# Mihomo Enhanced Template - Hu Tao Custom Configuration
# Author: Hu Tao
# Description: Enhanced Mihomo configuration with comprehensive geo-routing
# Last Updated: 2026-02-07
# ==========================================

# Base configuration references
u: &u { type: url-test, tolerance: 1, strategy: consistent-hashing, url: https://www.gstatic.com/generate_204, interval: 300, lazy: true, timeout: 5000, max-failed-times: 5, include-all: true }
domain_mrs: &domain_mrs { type: http, interval: 86400, behavior: domain, format: mrs, proxy: 🎯全球直连 }
ipcidr_mrs: &ipcidr_mrs { type: http, interval: 86400, behavior: ipcidr, format: mrs, proxy: 🎯全球直连 }
proxy: &proxy { type: select, include-all: true, proxies: [🚀全球代理, 🟢手动选择2, 🟢自定义代理组, 🎯全球直连, ♻️自动选择, ⚡️均衡负载, 🔯故障转移, 🇦🇩安道尔自动, 🇦🇪阿联酋自动, 🇦🇫阿富汗自动, 🇦🇬安提瓜和巴布达自动, 🇦🇮安圭拉自动, 🇦🇱阿尔巴尼亚自动, 🇦🇲亚美尼亚自动, 🇦🇴安哥拉自动, 🇦🇷阿根廷自动, 🇦🇸美属萨摩亚自动, 🇦🇹奥地利自动, 🇦🇺澳大利亚自动, 🇦🇼阿鲁巴自动, 🇦🇽奥兰群岛自动, 🇦🇿阿塞拜疆自动, 🇧🇦波斯尼亚和黑塞哥维那自动, 🇧🇧巴巴多斯自动, 🇧🇩孟加拉国自动, 🇧🇪比利时自动, 🇧🇫布基纳法索自动, 🇧🇬保加利亚自动, 🇧🇭巴林自动, 🇧🇮布隆迪自动, 🇧🇯贝宁自动, 🇧🇱法属圣巴泰勒米自动, 🇧🇲百慕大自动, 🇧🇳文莱达鲁萨兰国自动, 🇧🇴玻利维亚自动, 🇧🇶博内尔、圣尤斯特歇斯和萨巴自动, 🇧🇷巴西自动, 🇧🇸巴哈马自动, 🇧🇹不丹自动, 🇧🇼博茨瓦纳自动, 🇧🇾白俄罗斯自动, 🇧🇿伯利兹自动, 🇨🇦加拿大自动, 🇨🇩刚果民主共和国自动, 🇨🇫中非共和国自动, 🇨🇬刚果自动, 🇨🇭瑞士自动, 🇨🇮科特迪瓦自动, 🇨🇰库克群岛自动, 🇨🇱智利自动, 🇨🇲喀麦隆自动, 🇨🇳中国自动, 🇨🇴哥伦比亚自动, 🇨🇷哥斯达黎加自动, 🇨🇺古巴自动, 🇨🇻佛得角自动, 🇨🇼库拉索自动, 🇨🇾塞浦路斯自动, 🇨🇿捷克自动, 🇩🇪德国自动, 🇩🇯吉布提自动, 🇩🇰丹麦自动, 🇩🇲多米尼克自动, 🇩🇴多米尼加共和国自动, 🇩🇿阿尔及利亚自动, 🇪🇨厄瓜多尔自动, 🇪🇪爱沙尼亚自动, 🇪🇬埃及自动, 🇪🇷厄立特里亚自动, 🇪🇸西班牙自动, 🇪🇹埃塞俄比亚自动, 🇪🇺欧洲联盟自动, 🇫🇮芬兰自动, 🇫🇯斐济自动, 🇫🇰福克兰群岛自动, 🇫🇲密克罗尼西亚联邦自动, 🇫🇴法罗群岛自动, 🇫🇷法国自动, 🇬🇦加蓬自动, 🇬🇧英国自动, 🇬🇩格林纳达自动, 🇬🇪格鲁吉亚自动, 🇬🇫法属圭亚那自动, 🇬🇬格恩西岛自动, 🇬🇭加纳自动, 🇬🇮直布罗陀自动, 🇬🇱格陵兰自动, 🇬🇲冈比亚自动, 🇬🇳几内亚自动, 🇬🇵瓜德罗普自动, 🇬🇶赤道几内亚自动, 🇬🇷希腊自动, 🇬🇹危地马拉自动, 🇬🇺关岛自动, 🇬🇼几内亚比绍自动, 🇬🇾圭亚那自动, 🇭🇰香港自动, 🇭🇳洪都拉斯自动, 🇭🇷克罗地亚自动, 🇭🇹海地自动, 🇭🇺匈牙利自动, 🇮🇩印度尼西亚自动, 🇮🇪爱尔兰自动, 🇮🇱以色列自动, 🇮🇲曼岛自动, 🇮🇳印度自动, 🇮🇴英属印度洋领地自动, 🇮🇶伊拉克自动, 🇮🇷伊朗自动, 🇮🇸冰岛自动, 🇮🇹意大利自动, 🇯🇪泽西岛自动, 🇯🇲牙买加自动, 🇯🇴约旦自动, 🇯🇵日本自动, 🇰🇪肯尼亚自动, 🇰🇬吉尔吉斯斯坦自动, 🇰🇭柬埔寨自动, 🇰🇮基里巴斯自动, 🇰🇲科摩罗自动, 🇰🇳圣基茨和尼维斯自动, 🇰🇵朝鲜自动, 🇰🇷韩国自动, 🇰🇼科威特自动, 🇰🇾开曼群岛自动, 🇰🇿哈萨克斯坦自动, 🇱🇦老挝自动, 🇱🇧黎巴嫩自动, 🇱🇨圣卢西亚自动, 🇱🇮列支敦士登自动, 🇱🇰斯里兰卡自动, 🇱🇷利比里亚自动, 🇱🇸莱索托自动, 🇱🇹立陶宛自动, 🇱🇺卢森堡自动, 🇱🇻拉脱维亚自动, 🇱🇾利比亚自动, 🇲🇦摩洛哥自动, 🇲🇨摩纳哥自动, 🇲🇩摩尔多瓦自动, 🇲🇪黑山自动, 🇲🇫圣马丁（法属）自动, 🇲🇬马达加斯加自动, 🇲🇭马绍尔群岛自动, 🇲🇰北马其顿自动, 🇲🇱马里自动, 🇲🇲缅甸自动, 🇲🇳蒙古自动, 🇲🇴澳门自动, 🇲🇵北马里亚纳群岛自动, 🇲🇶马提尼克自动, 🇲🇷毛里塔尼亚自动, 🇲🇸蒙特塞拉特自动, 🇲🇹马耳他自动, 🇲🇺毛里求斯自动, 🇲🇻马尔代夫自动, 🇲🇼马拉维自动, 🇲🇽墨西哥自动, 🇲🇾马来西亚自动, 🇲🇿莫桑比克自动, 🇳🇦纳米比亚自动, 🇳🇨新喀里多尼亚自动, 🇳🇪尼日尔自动, 🇳🇫诺福克岛自动, 🇳🇬尼日利亚自动, 🇳🇮尼加拉瓜自动, 🇳🇱荷兰自动, 🇳🇴挪威自动, 🇳🇵尼泊尔自动, 🇳🇷瑙鲁自动, 🇳🇺纽埃自动, 🇳🇿新西兰自动, 🇴🇲阿曼自动, 🇵🇦巴拿马自动, 🇵🇪秘鲁自动, 🇵🇫法属波利尼西亚自动, 🇵🇬巴布亚新几内亚自动, 🇵🇭菲律宾自动, 🇵🇰巴基斯坦自动, 🇵🇱波兰自动, 🇵🇲圣皮埃尔和密克隆自动, 🇵🇷波多黎各自动, 🇵🇸巴勒斯坦自动, 🇵🇹葡萄牙自动, 🇵🇼帕劳自动, 🇵🇾巴拉圭自动, 🇶🇦卡塔尔自动, 🇷🇪留尼汪自动, 🇷🇴罗马尼亚自动, 🇷🇸塞尔维亚自动, 🇷🇺俄罗斯自动, 🇷🇼卢旺达自动, 🇸🇦沙特阿拉伯自动, 🇸🇧所罗门群岛自动, 🇸🇨塞舌尔自动, 🇸🇩苏丹自动, 🇸🇪瑞典自动, 🇸🇬新加坡自动, 🇸🇮斯洛文尼亚自动, 🇸🇰斯洛伐克自动, 🇸🇱塞拉利昂自动, 🇸🇲圣马力诺自动, 🇸🇳塞内加尔自动, 🇸🇴索马里自动, 🇸🇷苏里南自动, 🇸🇸南苏丹自动, 🇸🇹圣多美和普林西比自动, 🇸🇻萨尔瓦多自动, 🇸🇽荷属圣马丁自动, 🇸🇾叙利亚自动, 🇸🇿斯威士兰自动, 🇹🇨特克斯和凯科斯群岛自动, 🇹🇩乍得自动, 🇹🇬多哥自动, 🇹🇭泰国自动, 🇹🇯塔吉克斯坦自动, 🇹🇰托克劳自动, 🇹🇱东帝汶自动, 🇹🇲土库曼斯坦自动, 🇹🇳突尼斯自动, 🇹🇴汤加自动, 🇹🇷土耳其自动, 🇹🇹特立尼达和多巴哥自动, 🇹🇻图瓦卢自动, 🇹🇼台湾自动, 🇹🇿坦桑尼亚自动, 🇺🇦乌克兰自动, 🇺🇬乌干达自动, 🇺🇸美国自动, 🇺🇾乌拉圭自动, 🇺🇿乌兹别克斯坦自动, 🇻🇦梵蒂冈自动, 🇻🇨圣文森特和格林纳丁斯自动, 🇻🇪委内瑞拉自动, 🇻🇬英属维尔京群岛自动, 🇻🇮美属维尔京群岛自动, 🇻🇳越南自动, 🇻🇺瓦努阿图自动, 🇼🇫瓦利斯和富图纳自动, 🇼🇸萨摩亚自动, 🇾🇪也门自动, 🇾🇹马约特自动, 🇿🇦南非自动, 🇿🇲赞比亚自动, 🇿🇼津巴布韦自动] }
direct: &direct { type: select, include-all: true, proxies: [🎯全球直连, 🚀全球代理, ♻️自动选择, ⚡️均衡负载, 🔯故障转移, 🇦🇩安道尔自动, 🇦🇪阿联酋自动, 🇦🇫阿富汗自动, 🇦🇬安提瓜和巴布达自动, 🇦🇮安圭拉自动, 🇦🇱阿尔巴尼亚自动, 🇦🇲亚美尼亚自动, 🇦🇴安哥拉自动, 🇦🇷阿根廷自动, 🇦🇸美属萨摩亚自动, 🇦🇹奥地利自动, 🇦🇺澳大利亚自动, 🇦🇼阿鲁巴自动, 🇦🇽奥兰群岛自动, 🇦🇿阿塞拜疆自动, 🇧🇦波斯尼亚和黑塞哥维那自动, 🇧🇧巴巴多斯自动, 🇧🇩孟加拉国自动, 🇧🇪比利时自动, 🇧🇫布基纳法索自动, 🇧🇬保加利亚自动, 🇧🇭巴林自动, 🇧🇮布隆迪自动, 🇧🇯贝宁自动, 🇧🇱法属圣巴泰勒米自动, 🇧🇲百慕大自动, 🇧🇳文莱达鲁萨兰国自动, 🇧🇴玻利维亚自动, 🇧🇶博内尔、圣尤斯特歇斯和萨巴自动, 🇧🇷巴西自动, 🇧🇸巴哈马自动, 🇧🇹不丹自动, 🇧🇼博茨瓦纳自动, 🇧🇾白俄罗斯自动, 🇧🇿伯利兹自动, 🇨🇦加拿大自动, 🇨🇩刚果民主共和国自动, 🇨🇫中非共和国自动, 🇨🇬刚果自动, 🇨🇭瑞士自动, 🇨🇮科特迪瓦自动, 🇨🇰库克群岛自动, 🇨🇱智利自动, 🇨🇲喀麦隆自动, 🇨🇳中国自动, 🇨🇴哥伦比亚自动, 🇨🇷哥斯达黎加自动, 🇨🇺古巴自动, 🇨🇻佛得角自动, 🇨🇼库拉索自动, 🇨🇾塞浦路斯自动, 🇨🇿捷克自动, 🇩🇪德国自动, 🇩🇯吉布提自动, 🇩🇰丹麦自动, 🇩🇲多米尼克自动, 🇩🇴多米尼加共和国自动, 🇩🇿阿尔及利亚自动, 🇪🇨厄瓜多尔自动, 🇪🇪爱沙尼亚自动, 🇪🇬埃及自动, 🇪🇷厄立特里亚自动, 🇪🇸西班牙自动, 🇪🇹埃塞俄比亚自动, 🇪🇺欧洲联盟自动, 🇫🇮芬兰自动, 🇫🇯斐济自动, 🇫🇰福克兰群岛自动, 🇫🇲密克罗尼西亚联邦自动, 🇫🇴法罗群岛自动, 🇫🇷法国自动, 🇬🇦加蓬自动, 🇬🇧英国自动, 🇬🇩格林纳达自动, 🇬🇪格鲁吉亚自动, 🇬🇫法属圭亚那自动, 🇬🇬格恩西岛自动, 🇬🇭加纳自动, 🇬🇮直布罗陀自动, 🇬🇱格陵兰自动, 🇬🇲冈比亚自动, 🇬🇳几内亚自动, 🇬🇵瓜德罗普自动, 🇬🇶赤道几内亚自动, 🇬🇷希腊自动, 🇬🇹危地马拉自动, 🇬🇺关岛自动, 🇬🇼几内亚比绍自动, 🇬🇾圭亚那自动, 🇭🇰香港自动, 🇭🇳洪都拉斯自动, 🇭🇷克罗地亚自动, 🇭🇹海地自动, 🇭🇺匈牙利自动, 🇮🇩印度尼西亚自动, 🇮🇪爱尔兰自动, 🇮🇱以色列自动, 🇮🇲曼岛自动, 🇮🇳印度自动, 🇮🇴英属印度洋领地自动, 🇮🇶伊拉克自动, 🇮🇷伊朗自动, 🇮🇸冰岛自动, 🇮🇹意大利自动, 🇯🇪泽西岛自动, 🇯🇲牙买加自动, 🇯🇴约旦自动, 🇯🇵日本自动, 🇰🇪肯尼亚自动, 🇰🇬吉尔吉斯斯坦自动, 🇰🇭柬埔寨自动, 🇰🇮基里巴斯自动, 🇰🇲科摩罗自动, 🇰🇳圣基茨和尼维斯自动, 🇰🇵朝鲜自动, 🇰🇷韩国自动, 🇰🇼科威特自动, 🇰🇾开曼群岛自动, 🇰🇿哈萨克斯坦自动, 🇱🇦老挝自动, 🇱🇧黎巴嫩自动, 🇱🇨圣卢西亚自动, 🇱🇮列支敦士登自动, 🇱🇰斯里兰卡自动, 🇱🇷利比里亚自动, 🇱🇸莱索托自动, 🇱🇹立陶宛自动, 🇱🇺卢森堡自动, 🇱🇻拉脱维亚自动, 🇱🇾利比亚自动, 🇲🇦摩洛哥自动, 🇲🇨摩纳哥自动, 🇲🇩摩尔多瓦自动, 🇲🇪黑山自动, 🇲🇫圣马丁（法属）自动, 🇲🇬马达加斯加自动, 🇲🇭马绍尔群岛自动, 🇲🇰北马其顿自动, 🇲🇱马里自动, 🇲🇲缅甸自动, 🇲🇳蒙古自动, 🇲🇴澳门自动, 🇲🇵北马里亚纳群岛自动, 🇲🇶马提尼克自动, 🇲🇷毛里塔尼亚自动, 🇲🇸蒙特塞拉特自动, 🇲🇹马耳他自动, 🇲🇺毛里求斯自动, 🇲🇻马尔代夫自动, 🇲🇼马拉维自动, 🇲🇽墨西哥自动, 🇲🇾马来西亚自动, 🇲🇿莫桑比克自动, 🇳🇦纳米比亚自动, 🇳🇨新喀里多尼亚自动, 🇳🇪尼日尔自动, 🇳🇫诺福克岛自动, 🇳🇬尼日利亚自动, 🇳🇮尼加拉瓜自动, 🇳🇱荷兰自动, 🇳🇴挪威自动, 🇳🇵尼泊尔自动, 🇳🇷瑙鲁自动, 🇳🇺纽埃自动, 🇳🇿新西兰自动, 🇴🇲阿曼自动, 🇵🇦巴拿马自动, 🇵🇪秘鲁自动, 🇵🇫法属波利尼西亚自动, 🇵🇬巴布亚新几内亚自动, 🇵🇭菲律宾自动, 🇵🇰巴基斯坦自动, 🇵🇱波兰自动, 🇵🇲圣皮埃尔和密克隆自动, 🇵🇷波多黎各自动, 🇵🇸巴勒斯坦自动, 🇵🇹葡萄牙自动, 🇵🇼帕劳自动, 🇵🇾巴拉圭自动, 🇶🇦卡塔尔自动, 🇷🇪留尼汪自动, 🇷🇴罗马尼亚自动, 🇷🇸塞尔维亚自动, 🇷🇺俄罗斯自动, 🇷🇼卢旺达自动, 🇸🇦沙特阿拉伯自动, 🇸🇧所罗门群岛自动, 🇸🇨塞舌尔自动, 🇸🇩苏丹自动, 🇸🇪瑞典自动, 🇸🇬新加坡自动, 🇸🇮斯洛文尼亚自动, 🇸🇰斯洛伐克自动, 🇸🇱塞拉利昂自动, 🇸🇲圣马力诺自动, 🇸🇳塞内加尔自动, 🇸🇴索马里自动, 🇸🇷苏里南自动, 🇸🇸南苏丹自动, 🇸🇹圣多美和普林西比自动, 🇸🇻萨尔瓦多自动, 🇸🇽荷属圣马丁自动, 🇸🇾叙利亚自动, 🇸🇿斯威士兰自动, 🇹🇨特克斯和凯科斯群岛自动, 🇹🇩乍得自动, 🇹🇬多哥自动, 🇹🇭泰国自动, 🇹🇯塔吉克斯坦自动, 🇹🇰托克劳自动, 🇹🇱东帝汶自动, 🇹🇲土库曼斯坦自动, 🇹🇳突尼斯自动, 🇹🇴汤加自动, 🇹🇷土耳其自动, 🇹🇹特立尼达和多巴哥自动, 🇹🇻图瓦卢自动, 🇹🇼台湾自动, 🇹🇿坦桑尼亚自动, 🇺🇦乌克兰自动, 🇺🇬乌干达自动, 🇺🇸美国自动, 🇺🇾乌拉圭自动, 🇺🇿乌兹别克斯坦自动, 🇻🇦梵蒂冈自动, 🇻🇨圣文森特和格林纳丁斯自动, 🇻🇪委内瑞拉自动, 🇻🇬英属维尔京群岛自动, 🇻🇮美属维尔京群岛自动, 🇻🇳越南自动, 🇻🇺瓦努阿图自动, 🇼🇫瓦利斯和富图纳自动, 🇼🇸萨摩亚自动, 🇾🇪也门自动, 🇾🇹马约特自动, 🇿🇦南非自动, 🇿🇲赞比亚自动, 🇿🇼津巴布韦自动] }

# Proxy groups configuration
proxy-groups:
  - { name: 🚀全球代理, type: select, proxies: [♻️自动选择, 🟢手动选择, 🟢手动选择2, 🟢自定义代理组, ⚡️均衡负载, 🔯故障转移, 🎯全局直连, 🇦🇩安道尔自动, 🇦🇪阿联酋自动, 🇦🇫阿富汗自动, 🇦🇬安提瓜和巴布达自动, 🇦🇮安圭拉自动, 🇦🇱阿尔巴尼亚自动, 🇦🇲亚美尼亚自动, 🇦🇴安哥拉自动, 🇦🇷阿根廷自动, 🇦🇸美属萨摩亚自动, 🇦🇹奥地利自动, 🇦🇺澳大利亚自动, 🇦🇼阿鲁巴自动, 🇦🇽奥兰群岛自动, 🇦🇿阿塞拜疆自动, 🇧🇦波斯尼亚和黑塞哥维那自动, 🇧🇧巴巴多斯自动, 🇧🇩孟加拉国自动, 🇧🇪比利时自动, 🇧🇫布基纳法索自动, 🇧🇬保加利亚自动, 🇧🇭巴林自动, 🇧🇮布隆迪自动, 🇧🇯贝宁自动, 🇧🇱法属圣巴泰勒米自动, 🇧🇲百慕大自动, 🇧🇳文莱达鲁萨兰国自动, 🇧🇴玻利维亚自动, 🇧🇶博内尔、圣尤斯特歇斯和萨巴自动, 🇧🇷巴西自动, 🇧🇸巴哈马自动, 🇧🇹不丹自动, 🇧🇼博茨瓦纳自动, 🇧🇾白俄罗斯自动, 🇧🇿伯利兹自动, 🇨🇦加拿大自动, 🇨🇩刚果民主共和国自动, 🇨🇫中非共和国自动, 🇨🇬刚果自动, 🇨🇭瑞士自动, 🇨🇮科特迪瓦自动, 🇨🇰库克群岛自动, 🇨🇱智利自动, 🇨🇲喀麦隆自动, 🇨🇳中国自动, 🇨🇴哥伦比亚自动, 🇨🇷哥斯达黎加自动, 🇨🇺古巴自动, 🇨🇻佛得角自动, 🇨🇼库拉索自动, 🇨🇾塞浦路斯自动, 🇨🇿捷克自动, 🇩🇪德国自动, 🇩🇯吉布提自动, 🇩🇰丹麦自动, 🇩🇲多米尼克自动, 🇩🇴多米尼加共和国自动, 🇩🇿阿尔及利亚自动, 🇪🇨厄瓜多尔自动, 🇪🇪爱沙尼亚自动, 🇪🇬埃及自动, 🇪🇷厄立特里亚自动, 🇪🇸西班牙自动, 🇪🇹埃塞俄比亚自动, 🇪🇺欧洲联盟自动, 🇫🇮芬兰自动, 🇫🇯斐济自动, 🇫🇰福克兰群岛自动, 🇫🇲密克罗尼西亚联邦自动, 🇫🇴法罗群岛自动, 🇫🇷法国自动, 🇬🇦加蓬自动, 🇬🇧英国自动, 🇬🇩格林纳达自动, 🇬🇪格鲁吉亚自动, 🇬🇫法属圭亚那自动, 🇬🇬格恩西岛自动, 🇬🇭加纳自动, 🇬🇮直布罗陀自动, 🇬🇱格陵兰自动, 🇬🇲冈比亚自动, 🇬🇳几内亚自动, 🇬🇵瓜德罗普自动, 🇬🇶赤道几内亚自动, 🇬🇷希腊自动, 🇬🇹危地马拉自动, 🇬🇺关岛自动, 🇬🇼几内亚比绍自动, 🇬🇾圭亚那自动, 🇭🇰香港自动, 🇭🇳洪都拉斯自动, 🇭🇷克罗地亚自动, 🇭🇹海地自动, 🇭🇺匈牙利自动, 🇮🇩印度尼西亚自动, 🇮🇪爱尔兰自动, 🇮🇱以色列自动, 🇮🇲曼岛自动, 🇮🇳印度自动, 🇮🇴英属印度洋领地自动, 🇮🇶伊拉克自动, 🇮🇷伊朗自动, 🇮🇸冰岛自动, 🇮🇹意大利自动, 🇯🇪泽西岛自动, 🇯🇲牙买加自动, 🇯🇴约旦自动, 🇯🇵日本自动, 🇰🇪肯尼亚自动, 🇰🇬吉尔吉斯斯坦自动, 🇰🇭柬埔寨自动, 🇰🇮基里巴斯自动, 🇰🇲科摩罗自动, 🇰🇳圣基茨和尼维斯自动, 🇰🇵朝鲜自动, 🇰🇷韩国自动, 🇰🇼科威特自动, 🇰🇾开曼群岛自动, 🇰🇿哈萨克斯坦自动, 🇱🇦老挝自动, 🇱🇧黎巴嫩自动, 🇱🇨圣卢西亚自动, 🇱🇮列支敦士登自动, 🇱🇰斯里兰卡自动, 🇱🇷利比里亚自动, 🇱🇸莱索托自动, 🇱🇹立陶宛自动, 🇱🇺卢森堡自动, 🇱🇻拉脱维亚自动, 🇱🇾利比亚自动, 🇲🇦摩洛哥自动, 🇲🇨摩纳哥自动, 🇲🇩摩尔多瓦自动, 🇲🇪黑山自动, 🇲🇫圣马丁（法属）自动, 🇲🇬马达加斯加自动, 🇲🇭马绍尔群岛自动, 🇲🇰北马其顿自动, 🇲🇱马里自动, 🇲🇲缅甸自动, 🇲🇳蒙古自动, 🇲🇴澳门自动, 🇲🇵北马里亚纳群岛自动, 🇲🇶马提尼克自动, 🇲🇷毛里塔尼亚自动, 🇲🇸蒙特塞拉特自动, 🇲🇹马耳他自动, 🇲🇺毛里求斯自动, 🇲🇻马尔代夫自动, 🇲🇼马拉维自动, 🇲🇽墨西哥自动, 🇲🇾马来西亚自动, 🇲🇿莫桑比克自动, 🇳🇦纳米比亚自动, 🇳🇨新喀里多尼亚自动, 🇳🇪尼日尔自动, 🇳🇫诺福克岛自动, 🇳🇬尼日利亚自动, 🇳🇮尼加拉瓜自动, 🇳🇱荷兰自动, 🇳🇴挪威自动, 🇳🇵尼泊尔自动, 🇳🇷瑙鲁自动, 🇳🇺纽埃自动, 🇳🇿新西兰自动, 🇴🇲阿曼自动, 🇵🇦巴拿马自动, 🇵🇪秘鲁自动, 🇵🇫法属波利尼西亚自动, 🇵🇬巴布亚新几内亚自动, 🇵🇭菲律宾自动, 🇵🇰巴基斯坦自动, 🇵🇱波兰自动, 🇵🇲圣皮埃尔和密克隆自动, 🇵🇷波多黎各自动, 🇵🇸巴勒斯坦自动, 🇵🇹葡萄牙自动, 🇵🇼帕劳自动, 🇵🇾巴拉圭自动, 🇶🇦卡塔尔自动, 🇷🇪留尼汪自动, 🇷🇴罗马尼亚自动, 🇷🇸塞尔维亚自动, 🇷🇺俄罗斯自动, 🇷🇼卢旺达自动, 🇸🇦沙特阿拉伯自动, 🇸🇧所罗门群岛自动, 🇸🇨塞舌尔自动, 🇸🇩苏丹自动, 🇸🇪瑞典自动, 🇸🇬新加坡自动, 🇸🇮斯洛文尼亚自动, 🇸🇰斯洛伐克自动, 🇸🇱塞拉利昂自动, 🇸🇲圣马力诺自动, 🇸🇳塞内加尔自动, 🇸🇴索马里自动, 🇸🇷苏里南自动, 🇸🇸南苏丹自动, 🇸🇹圣多美和普林西比自动, 🇸🇻萨尔瓦多自动, 🇸🇽荷属圣马丁自动, 🇸🇾叙利亚自动, 🇸🇿斯威士兰自动, 🇹🇨特克斯和凯科斯群岛自动, 🇹🇩乍得自动, 🇹🇬多哥自动, 🇹🇭泰国自动, 🇹🇯塔吉克斯坦自动, 🇹🇰托克劳自动, 🇹🇱东帝汶自动, 🇹🇲土库曼斯坦自动, 🇹🇳突尼斯自动, 🇹🇴汤加自动, 🇹🇷土耳其自动, 🇹🇹特立尼达和多巴哥自动, 🇹🇻图瓦卢自动, 🇹🇼台湾自动, 🇹🇿坦桑尼亚自动, 🇺🇦乌克兰自动, 🇺🇬乌干达自动, 🇺🇸美国自动, 🇺🇾乌拉圭自动, 🇺🇿乌兹别克斯坦自动, 🇻🇦梵蒂冈自动, 🇻🇨圣文森特和格林纳丁斯自动, 🇻🇪委内瑞拉自动, 🇻🇬英属维尔京群岛自动, 🇻🇮美属维尔京群岛自动, 🇻🇳越南自动, 🇻🇺瓦努阿图自动, 🇼🇫瓦利斯和富图纳自动, 🇼🇸萨摩亚自动, 🇾🇪也门自动, 🇾🇹马约特自动, 🇿🇦南非自动, 🇿🇲赞比亚自动, 🇿🇼津巴布韦自动] }
  - { name: 🟢手动选择, <<: *u, type: select }
  - { name: 🟢手动选择2, <<: *u, type: select }
  - { name: 🟢自定义代理组, <<: *u, type: select }
  - { name: 🎯全局直连, type: select, hidden: true, proxies: [DIRECT] }
  - { name: 🚫拒绝连接, type: select, hidden: true, proxies: [REJECT] }
  - { name: 🚫静默拒绝, type: select, hidden: true, proxies: [REJECT-DROP] }
  - { name: ⚪绕过连接, type: select, hidden: true, proxies: [PASS] }
  - { name: 🎯全球直连, type: select, proxies: [🎯全局直连, 🟢手动选择, 🟢手动选择2, ♻️自动选择] }
  - { name: ♻️自动选择, <<: *u, tolerance: 1, type: url-test }
  - { name: ⚡️均衡负载, <<: *u, strategy: round-robin, type: load-balance }
  - { name: 🔯故障转移, <<: *u, type: fallback }
  - { name: Google, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/Google.webp }
  - { name: cloudflare, <<: *proxy, icon: https://registry.npmmirror.com/@lobehub/icons-static-png/1.68.0/files/dark/cloudflare-color.png }
  - { name: PayPal, <<: *proxy, icon: https://raw.githubusercontent.com/Kwisma/rules/main/icon/webp/100/PayPal.webp }
  - { name: WhatsApp, <<: *proxy, icon: https://raw.githubusercontent.com/clash-verge-rev/clash-verge-rev.github.io/refs/heads/main/docs/assets/icons/whatsapp.svg }
  - { name: epic, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/Epic.webp }
  - { name: steam, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/Steam.webp }
  - { name: ai, <<: *proxy, icon: https://pub-8feead0908f649a8b94397f152fb9cba.r2.dev/ai.png }
  - { name: onedrive, <<: *proxy, icon: https://pub-8feead0908f649a8b94397f152fb9cba.r2.dev/onedrive.png }
  - { name: apple, <<: *proxy, icon: https://raw.githubusercontent.com/Kwisma/rules/main/icon/webp/100/Apple.webp }
  - { name: emby, <<: *proxy, icon: https://pub-8feead0908f649a8b94397f152fb9cba.r2.dev/emby.png }
  - { name: embydirect, <<: *proxy, icon: https://pub-8feead0908f649a8b94397f152fb9cba.r2.dev/emby.png }
  - { name: Telegram, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/Telegram.webp }
  - { name: Twitter, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/Twitter.webp }
  - { name: 哔哩哔哩, <<: *direct, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/BiliBili.webp }
  - { name: microsoft, <<: *proxy, icon: https://raw.githubusercontent.com/Kwisma/rules/main/icon/webp/100/Microsoft.webp }
  - { name: YouTube, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/YouTube.webp }
  - { name: NETFLIX, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/Netflix.webp }
  - { name: Github, <<: *proxy, icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/GitHub.webp }
  
  # Country auto-selection groups
  - { name: 🇺🇸美国自动, <<: *u, hidden: true, filter: "(?i)(?:🇺🇸|(?:^|[\\s_-])(US)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*US(?=$|[\\s_-])|美国|United States|(?:(?:^|[\\s_-])CT(?=$|[\\s_-]))|UnitedStates)" }
  - { name: 🇧🇷巴西自动, <<: *u, hidden: true, filter: "(?i)(?:🇧🇷|(?:^|[\\s_-])(BR)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*BR(?=$|[\\s_-])|巴西|Brazil)" }
  - { name: 🇨🇳中国自动, <<: *u, hidden: true, filter: "(?i)(?:🇨🇳|(?:^|[\\s_-])(CN)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*CN(?=$|[\\s_-])|中国|China)" }
  # ... (其余国家分组保持不变)
  
  - { name: GLOBAL, type: select, include-all: true, proxies: [ 🚀全球代理, 🟢手动选择, 🟢手动选择2, 🎯全球直连, ♻️自动选择, ⚡️均衡负载, 🔯故障转移, Google, Telegram, Twitter, 哔哩哔哩, YouTube, NETFLIX, Github, microsoft, emby, ai, onedrive, embydirect, apple ], icon: https://jsd.onmicrosoft.cn/gh/Kwisma/rules@main/icon/webp/100/GLOBAL.webp }

# Rules configuration
rules:
  - SUB-RULE,(OR,((NETWORK,UDP),(NETWORK,TCP))),SUB-RULES
  - MATCH,🚀全球代理

# Sub-rules configuration
sub-rules:
  SUB-RULES:
    - RULE-SET,custom_direct,🎯全球直连,no-resolve
    - RULE-SET,custom_proxy,🟢自定义代理组,no-resolve
    - RULE-SET,emby_domain,emby
    - RULE-SET,embydirect_domain,embydirect
    - RULE-SET,iptest,🟢自定义代理组
    - RULE-SET,ai_domain,ai
    - RULE-SET,PayPal,PayPal
    - RULE-SET,epic_domain,epic
    - RULE-SET,steam_domain,steam
    - RULE-SET,onedrive_domain,onedrive
    - RULE-SET,apple_domain,apple
    - RULE-SET,github_domain,Github
    - RULE-SET,microsoft_domain,microsoft
    - RULE-SET,twitter_domain,Twitter
    - RULE-SET,WhatsApp_domain,WhatsApp
    - RULE-SET,youtube_domain,YouTube
    - RULE-SET,google_domain,Google
    - RULE-SET,telegram_domain,Telegram
    - RULE-SET,netflix_domain,NETFLIX
    - RULE-SET,bilibili_domain,哔哩哔哩
    - RULE-SET,cloudflare,cloudflare
    - RULE-SET,geolocation-!cn,🚀全球代理
    - RULE-SET,google_ip,Google,no-resolve
    - RULE-SET,netflix_ip,NETFLIX,no-resolve
    - RULE-SET,telegram_ip,Telegram,no-resolve
    - RULE-SET,twitter_ip,Twitter,no-resolve
    - OR,((AND,((RULE-SET,cn_domain),(RULE-SET,cn_ip))),(RULE-SET,cn_ip),(RULE-SET,private_domain),(RULE-SET,private_ip,no-resolve)),🎯全球直连

# Rule providers configuration
rule-providers:
  cn_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/Kwisma/clash-rules@release/direct.mrs"
    path: ./ruleset/CN_Domain.mrs
  cn_ip:
    <<: *ipcidr_mrs
    url: "https://cdn.jsdelivr.net/gh/Kwisma/clash-rules@release/cncidr.mrs"
    path: ./ruleset/CN_IP.mrs
  private_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs"
    path: ./ruleset/Private_Domain.mrs
  private_ip:
    <<: *ipcidr_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs"
    path: ./ruleset/Private_IP.mrs
  iptest:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/xiaodaiceshi/cf-worker-mihomo/main/rules/iptest.yaml"
    path: ./ruleset/iptest.yaml
    interval: 86400
  cloudflare:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Cloudflare/Cloudflare.yaml"
    path: ./ruleset/cloudflare.yaml
    interval: 86400
  PayPal:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PayPal/PayPal.yaml"
    path: ./ruleset/PayPal.yaml
    interval: 86400
  custom_proxy:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/xiaodaiceshi/cf-worker-mihomo/main/rules/custom_proxy.yaml"
    path: ./ruleset/custom_proxy.yaml
    interval: 86400
  custom_direct:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/xiaodaiceshi/cf-worker-mihomo/main/rules/custom_direct.yaml"
    path: ./ruleset/custom_direct.yaml
    interval: 86400
  embydirect_domain:
    type: http
    interval: 86400
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/xiaodaiceshi/cf-worker-mihomo/main/rules/embydirect.yaml"
    path: ./ruleset/embydirect_domain.yaml
  steam_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/steam.mrs"
    path: ./ruleset/steam_domain.mrs
  github_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/github.mrs"
    path: ./ruleset/github_domain.mrs
  epic_domain:
    type: http
    interval: 86400
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.yaml"
    path: ./ruleset/epic_domain.yaml      
  microsoft_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/microsoft.mrs"
    path: ./ruleset/microsoft_domain.mrs
  WhatsApp_domain:
    type: http
    interval: 86400
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Whatsapp/Whatsapp.yaml"
    path: ./ruleset/WhatsApp_domain.yaml
  ai_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/openai.mrs"
    path: ./ruleset/ai_domain.mrs
  onedrive_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/onedrive.mrs"
    path: ./ruleset/onedrive_domain.mrs
  apple_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/apple.mrs"
    path: ./ruleset/apple_domain.mrs  
  emby_domain:
    type: http
    interval: 86400
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/xiaodaiceshi/cf-worker-mihomo/main/rules/embyproxy.yaml"
    path: ./ruleset/emby_domain.yaml    
  twitter_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/twitter.mrs"
    path: ./ruleset/twitter_domain.mrs
  youtube_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/youtube.mrs"
    path: ./ruleset/youtube_domain.mrs
  google_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.mrs"
    path: ./ruleset/google_domain.mrs
  telegram_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs"
    path: ./ruleset/telegram_domain.mrs
  netflix_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/netflix.mrs"
    path: ./ruleset/netflix_domain.mrs
  bilibili_domain:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/bilibili.mrs"
    path: ./ruleset/bilibili_domain.mrs
  geolocation-!cn:
    <<: *domain_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.mrs"
    path: ./ruleset/geolocation-!cn.mrs
  google_ip:
    <<: *ipcidr_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/google.mrs"
    path: ./ruleset/google_ip.mrs
  netflix_ip:
    <<: *ipcidr_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/netflix.mrs"
    path: ./ruleset/netflix_ip.mrs
  twitter_ip:
    <<: *ipcidr_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/twitter.mrs"
    path: ./ruleset/twitter_ip.mrs
  telegram_ip:
    <<: *ipcidr_mrs
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.mrs"
    path: ./ruleset/telegram_ip.mrs